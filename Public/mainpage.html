 <!--
    Title: ECE Senior Design Project Code - Test page
    Description: This file is used for copying and pasting purposes only when we are creating a new page and want
    to start from a blank page
    Authors: Chris Varriano
             Will Van Luven
             Sean McNamara
             Arai Singleton
    Date created: 9/28/20
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Canvas Calendar</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
      $( function() {
        $( "#datepicker" ).datepicker();
      } );
      </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
          integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <meta name="google-signin-client_id" content="967496995343-hbeqhlnlithe3prp8nh2sv2bj8f836p7.apps.googleusercontent.com">

    <script src="https://apis.google.com/js/platform.js?onload=onLoad" async defer></script>
    
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/7.21.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/7.21.1/firebase-auth.js"></script>
    <script defer src="/__/firebase/7.21.1/firebase-database.js"></script>
    <script defer src="/__/firebase/7.21.1/firebase-messaging.js"></script>
    <script defer src="/__/firebase/7.21.1/firebase-storage.js"></script>
    <script defer src="/__/firebase/7.21.1/firebase-analytics.js"></script>
    <script defer src="/__/firebase/7.21.1/firebase-remote-config.js"></script>
    <script defer src="/__/firebase/7.21.1/firebase-performance.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-database.js"></script>


<style>
      .card {
      float: right;
      clear: both;
      }

      .card input {
      width: 100%;
      float: right;
      clear: both;
      }

      .upcoming-page{
        margin-top: 1in;
        margin-left: .50in;
      }

      .courses-page{
        float: left;
        margin-top: .5in;
        margin-left: .50in;
        clear:left;
      }

      .Calendar-page{
        float: right;
        margin-top: .50in;
        margin-right: -2.5in;
        display: inline;
      }

      table {
      table-layout: fixed;
      }
      
      th {
      width: 125px;
      height: 50px;
      }

      td {
      width: 125px;
      height: 100px;
      }
     
      #message h4 {color: rgb(0, 0, 0); font-weight: bold; font-size: 20px; margin: 16px 0 12px; margin-top: 1in; margin-left: 200px;} 
      #message h1 {color: rgb(253, 250, 250)} 
      a {
      color: #f4f4f4;
      }

/* header */

.header {
  background-color: #00539f;
  box-shadow: 1px 1px 4px 0 rgba(0,0,0,.1);
  position: fixed;
  width: 100%;
  z-index: 3;
}

.header ul {
  margin: 0;
  padding: 0;
  list-style: none;
  overflow: hidden;
  background-color: #00539f;
}

.header li a {
  display: block;
  padding: 20px 20px;
  border-right: 1px solid #f4f4f4;
  text-decoration: none;
}

.header li a:hover,
.header .menu-btn:hover {
  background-color: #f4f4f4;
}

.header .logo {
  display: block;
  float: left;
  font-size: 2em;
  padding: 10px 20px;
  text-decoration: none;
}

/* menu */

.header .menu {
  clear: both;
  max-height: 0;
  transition: max-height .2s ease-out;
}

/* menu icon */

.header .menu-icon {
  cursor: pointer;
  display: inline-block;
  float: right;
  padding: 28px 20px;
  position: relative;
  user-select: none;
}

.header .menu-icon .navicon {
  background: #333;
  display: block;
  height: 2px;
  position: relative;
  transition: background .2s ease-out;
  width: 18px;
}

.header .menu-icon .navicon:before,
.header .menu-icon .navicon:after {
  background: #333;
  content: '';
  display: block;
  height: 100%;
  position: absolute;
  transition: all .2s ease-out;
  width: 100%;
}

.header .menu-icon .navicon:before {
  top: 5px;
}

.header .menu-icon .navicon:after {
  top: -5px;
}

/* menu btn */

.header .menu-btn {
  display: none;
}

.header .menu-btn:checked ~ .menu {
  max-height: 240px;
}

.header .menu-btn:checked ~ .menu-icon .navicon {
  background: transparent;
}

.header .menu-btn:checked ~ .menu-icon .navicon:before {
  transform: rotate(-45deg);
}

.header .menu-btn:checked ~ .menu-icon .navicon:after {
  transform: rotate(45deg);
}

.header .menu-btn:checked ~ .menu-icon:not(.steps) .navicon:before,
.header .menu-btn:checked ~ .menu-icon:not(.steps) .navicon:after {
  top: 0;
}

/* 48em = 768px */

@media (min-width: 48em) {
  .header li {
    float: left;
  }
  .header li a {
    padding: 20px 30px;
  }
  .header .menu {
    clear: none;
    float: right;
    max-height: none;
  }
  .header .menu-icon {
    display: none;
  }
}

/* pop up window */

/* Popup container - can be anything you want */
.popup{
  position: relative;
  display: inline-block;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* The actual popup */
.popup .popuptext {
  visibility: hidden;
  width: 500px;
  height: 500px;
  background-color: #555;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 8px 0;
  position: absolute;
  z-index: 1;
  bottom: 125%;
  left: 50%;
  margin-left: -250px;
}

/* Popup arrow */
.popup .popuptext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

/* Toggle this class - hide and show the popup */
.popup .show {
  visibility: visible;
  -webkit-animation: fadeIn .5s;
  animation: fadeIn .5s;
}

/* Add animation (fade in the popup) */
@-webkit-keyframes fadeIn {
  from {opacity: 0;} 
  to {opacity: 1;}
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity:1 ;}
}

.form-control{
 width: fit-content;
}

.box-border{
  border: 20px solid red;
}

/* Test for new popup*/
/*___________________________________________________________*/
/* The popup form - hidden by default */
.form-popup {
  border-radius: 25px;
  display: none;
  position: absolute;
  top: 200px;
  left: 100px;
  width: 300px;
  height: 300px;
  z-index: 9;
  right: 50;

}

/* Add styles to the form container */
.form-container {
  border-radius: 25px;
  max-width: 300px;
  padding: 10px;
  background-color:#00539f;
}

/* Full-width input fields */
.form-container input[type=text], .form-container input[type=password] {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  border: none;
  background: #f1f1f1;
}

/* When the inputs get focus, do something */
.form-container input[type=text]:focus, .form-container input[type=password]:focus {
  background-color: #ddd;
  outline: none;
}

/* Set a style for the submit/login button */
.form-container .btn {
  background-color: #4CAF50;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  width: 100%;
  margin-bottom:10px;
  opacity: 0.8;
}

/* Add a red background color to the cancel button */
.form-container .cancel {
  background-color: red;
}

/* Add some hover effects to buttons */
.form-container .btn:hover, .open-button:hover {
  opacity: 1;
}

</style>
  </head>
  <body>

    <header class="header">
      <a style="color: white;" href="" class="logo" id="headerlogo">Welcome Back!!</a>
      <input class="menu-btn" type="checkbox" id="menu-btn" />
      <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
      <ul class="menu">
        <li><a href='https://canvas-calendar-4ea54.web.app/aboutpage.html'>About</a></li>
        <li><a href='https://canvas-calendar-4ea54.web.app/profilepage.html'>Profile</a></li>
        <li><a href="#contact" onclick="logoutFunction()">Logout</a></li>
      </ul>
    </header>


<div class="top-page">
 <div class="Calendar" style="vertical-align:middle" >
  <div class="Calendar-page" style="float: right;">
    <div class="container col-sm-4 col-md-7 col-lg-4 mt-5">
      <div class="card" style="width: 1052px;">
          <h3 class="card-header" id="monthAndYear" style="width: 1050px;"></h3>
          <table class="table table-bordered table-responsive-sm" id="calendar">
              <thead>
              <tr>
                  <th>Sun</th>
                  <th>Mon</th>
                  <th>Tue</th>
                  <th>Wed</th>
                  <th>Thu</th>
                  <th>Fri</th>
                  <th>Sat</th>
              </tr>
              </thead>
  
              <tbody id="calendar-body">
  
              </tbody>
          </table>
  
          <div class="form-inline">
  
              <button class="btn btn-outline-primary col-sm-6" id="previous" onclick="previous()">Previous Month</button>
  
              <button class="btn btn-outline-primary col-sm-6" id="next" onclick="next()">Next Month</button>
              
              <button class="popup btn btn-outline-primary col-sm-6" onclick="openForm()">Add New Event</button>
                <div class="form-popup" id="myForm">
                  <form action="/action_page.php" class="form-container">
                    <h1>Add Event</h1>
                
                    <p>Date: <input type="text" class="date-popup" id="datepicker"></p>

                    <p>Description: <input type="text"></p>
                
                
                    <button type="button" class="btn btn" onclick="closeForm()">Add Event</button>
                    <button type="button" class="btn cancel" onclick="closeForm()">Cancel</button>
                  </form>
                </div>
   

              <div class="popup btn btn-outline-primary col-sm-6" onclick="viewSelectedEvent()">View Event
                <span class="popuptext" id="myPopup2"></span>
              </div>

          </div>
          <br/>
          <form class="form-inline">
              <label class="lead mr-2 ml-2" for="month">Jump To: </label>
              <select class="form-control col-sm-3" name="month" id="month" onchange="jump()">
                  <option value=0>January</option>
                  <option value=1>Febuary</option>
                  <option value=2>March</option>
                  <option value=3>April</option>
                  <option value=4>May</option>
                  <option value=5>June</option>
                  <option value=6>July</option>
                  <option value=7>August</option>
                  <option value=8>September</option>
                  <option value=9>October</option>
                  <option value=10>November</option>
                  <option value=11>December</option>
              </select>

              <label for="day"></label><select class="form-control col-sm-3" name="day" id="day" onchange="jump()">

                <option value=1>1</option>
                <option value=2>2</option>
                <option value=3>3</option>
                <option value=4>4</option>
                <option value=5>5</option>
                <option value=6>6</option>
                <option value=7>7</option>
                <option value=8>8</option>
                <option value=9>9</option>
                <option value=10>10</option>
                <option value=11>11</option>
                <option value=12>12</option>
                <option value=13>13</option>
                <option value=14>14</option>
                <option value=15>15</option>
                <option value=16>16</option>
                <option value=17>17</option>
                <option value=18>18</option>
                <option value=19>19</option>
                <option value=20>20</option>
                <option value=21>21</option>
                <option value=22>22</option>
                <option value=23>23</option>
                <option value=24>24</option>
                <option value=25>25</option>
                <option value=26>26</option>
                <option value=27>27</option>
                <option value=28>28</option>
                <option value=29>29</option>
                <option value=30>30</option>
                <option value=31>31</option>
                              
              </select>
              
              <label for="year"></label><select class="form-control col-sm-3" name="year" id="year" onchange="jump()">
              
              <option value=2010>2010</option>
              <option value=2011>2011</option>
              <option value=2012>2012</option>
              <option value=2013>2013</option>
              <option value=2014>2014</option>
              <option value=2015>2015</option>
              <option value=2016>2016</option>
              <option value=2017>2017</option>
              <option value=2018>2018</option>
              <option value=2019>2019</option>
              <option value=2020>2020</option>
              <option value=2021>2021</option>
              <option value=2022>2022</option>
              <option value=2023>2023</option>
              <option value=2024>2024</option>
              <option value=2025>2025</option>
              <option value=2026>2026</option>
              <option value=2027>2027</option>
              <option value=2028>2028</option>
              <option value=2029>2029</option>
              <option value=2030>2030</option>
          </select></form>
      </div>
    </div>
   </div>
  </div>
  <div class="Calendar" style="vertical-align:middle">
  <div class="upcoming-page" style="float: left;">
    <div class="card" style="width: 302px;"> 
     <div class="card-header" style="width: 300px;">
      <h4>Upcoming Today</h4> 
     </div>
     <ul class="list-group list-group-flush">
      <li class="list-group-item">CPEG 494 - Practical 5</li>
      <li class="list-group-item">CISC 361 - Lab 6 Phase 3</li>
      <li class="list-group-item">CPEG 496 - Mini Practical</li>
      <li class="list-group-item">CPEG 419 - HW 4a</li>
      <li class="list-group-item">CPEG 498 - Final Presentation</li>
    </ul>
     </div>
   </div>
  
   <div class="courses-page" style="float: left;">
   <div class="card" style="width: 302px;"> 
    <div class="card-header" style="width: 300px;">
     <h4>Current Courses</h4> 
    </div>
    <ul class="list-group list-group-flush">
     <li class="list-group-item">CISC 361</li>
     <li class="list-group-item">CPEG 419</li>
     <li class="list-group-item">CPEG 494</li>
     <li class="list-group-item">CPEG 496</li>
     <li class="list-group-item">CPEG 498</li>
   </ul>
    </div>
  </div>
 </div>
</div>



  </div>
 </div>
</div>  


<!-- Try looking into making the items into a list using ol and li -->
<script src="scripts.js"></script>

<!-- Optional JavaScript for bootstrap -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>

    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
      apiKey: "AIzaSyAWlmVBGiPNaZ8q6wIW8qj4MHhRCdEnzfw",
      authDomain: "canvas-calendar-4ea54.firebaseapp.com",
      databaseURL: "https://canvas-calendar-4ea54.firebaseio.com",
      projectId: "canvas-calendar-4ea54",
      storageBucket: "canvas-calendar-4ea54.appspot.com",
      messagingSenderId: "967496995343",
      appId: "1:967496995343:web:87bdb9b3571033cfce897a",
      measurementId: "G-2GBWCBTD5W"
    };
    // Initialize Firebase/Canvas API
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();


    $(document).ready(function () {
        $("#registerForm").on("submit", function (event) {
          event.preventDefault();
          var fname = $("#registerFirstName").val();
          var lname = $("#registerLastName").val();
          var email = $("#registerEmail").val();
          var password = $("#registerPassword").val();
          firebase.auth().createUserWithEmailAndPassword(email, password)
            .then(function (user) {
              firebase.database().ref().child("users/" + user.user.uid).set({
                firstname: fname,
                lastname: lname,
                email: user.user.email,
                role: "user"
              })
              alert("Account successfuly created")
            })
            .catch(function (err) {
              console.log(err);
              alert(err);
            });
        });


        $("#loginForm").on("submit", function (event) {
          event.preventDefault();
          var email = $("#loginEmail").val();
          var password = $("#loginPassword").val();
          firebase.auth().signInWithEmailAndPassword(email, password)
            .then(function (user) {
              console.log(user);
              location.reload();
              alert("Welcome Back!")
            })
            .catch(function (err) {
              console.log(err);
              alert(err);
            });
        });

        $("#logoutbtn").on("click", function () {
          firebase.auth().signOut().then(function () {
            alert("Goodbye!");
            location.reload();
          })
          .catch(function (error) {
            console.log(err);
            alert(err);
          });
        });

        firebase.auth().onAuthStateChanged(function (user) {
          if (user) {
            console.log(user);
            var email = user.email;
            document.getElementById("headerlogo").innerHTML = "Welcome Back " + user.email;
            //alert("Welcome " + email);
          } else {
            // No user is signed in.
            console.log("No user");
            //alert("Currently logged out");
          }
        });


      });

    </script>
  </body>
</html>

      